import{h as b,z as $,O as B,o as C,j as g,D as M,r as m,k as h,w as E,q as F}from"./vendor.bcb48e5d.js";import{_ as O}from"./index.098b6499.js";const P={class:"amap_box"},N=M("div",{id:"container"},null,-1),D=[N],L=b({props:{reContry:Boolean},setup(v){const p=v;var i=window.AMap,l=null,u=p.reContry;const d=window.AMapUI;var s,c;return $(()=>{var a=new i.Map("container",{zoom:4.5,center:[116.412427,39.303573],pitch:0,viewMode:"2D"}),n;d.load(["ui/geo/DistrictExplorer","lib/$"],(e,t)=>{n=new e({eventSupport:!0,map:a}),c=t('<div class="tipMarker top"></div>'),s=new i.Marker({content:c.get(0),offset:new i.Pixel(0,0),bubble:!0}),n.on("featureMouseout featureMouseover",(o,r)=>{w(r,o.type==="featureMouseover",o.originalEvent?o.originalEvent.lnglat:null)}),n.on("featureMousemove",o=>{s.setPosition(o.originalEvent.lnglat)}),n.on("featureClick",(o,r)=>{const y=r.properties;_(y.adcode,void 0),u=!1}),_(1e5,void 0)});const w=(e,t,o)=>{if(s.setMap(t?a:null),!e)return;const r=e.properties;if(t){const f=`<div class="tipMarker top" style="width:200px;">${r.name}</div>`;c.html(f),s.setPosition(o||r.center)}n.findFeaturePolygonsByAdcode(r.adcode).forEach(f=>{f.setOptions({fillOpacity:t?.5:0})})},x=e=>{u?(a.setZoom(4),a.setCenter(new i.LngLat(103.714129,38.150339))):a.setBounds(e.getBounds(),null,null,!0),n.clearFeaturePolygons(),n.renderSubFeatures(e,()=>({cursor:"default",bubble:!0,strokeColor:"red",strokeOpacity:.4,strokeWeight:1,fillOpacity:0})),n.renderParentFeature(e,{cursor:"default",bubble:!0,strokeColor:"#3366cc",strokeOpacity:1,strokeWeight:1,fillOpacity:0})},A=e=>{n.setHoverFeature(null),x(e)};var _=(e,t)=>{l&&""+l.getAdcode()==""+e||k(e,(o,r)=>{if(o){t&&t(o);return}l=r,n.setAreaNodesForLocating([l]),A(r),t&&t(null,r)})};const k=(e,t)=>{n.loadAreaNode(e,(o,r)=>{if(o){t&&t(o),window.console.error(o);return}t&&t(null,r)})};B(()=>p.reContry,(e,t)=>{u=e,_(1e5,void 0),console.log(e,t)})}),(a,n)=>(C(),g("div",P,D))}});const V={name:"home",components:{aMap:L},data(){return{reContry:!0}},methods:{returnCountry(){this.reContry=!0,setTimeout(()=>{this.reContry=!1},500)}}},z={class:"amp_box"},I=F("\u8FD4\u56DE\u5168\u56FD"),S={class:"mapp"};function T(v,p,i,l,u,d){const s=m("el-button"),c=m("a-map");return C(),g("div",z,[h(s,{class:"backbtn",onClick:d.returnCountry},{default:E(()=>[I]),_:1},8,["onClick"]),M("div",S,[h(c,{reContry:u.reContry},null,8,["reContry"])])])}var j=O(V,[["render",T]]);export{j as default};
